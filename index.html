<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Domotic Solutions - Cat√°logo de Dom√≥tica 2026</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#2b6cee",
                        "surface": "#ffffff",
                        "background": "#f8fafc",
                    },
                    fontFamily: {
                        "display": ["Space Grotesk", "sans-serif"]
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05), 0 2px 10px -2px rgba(0, 0, 0, 0.03)',
                    }
                },
            },
        }
    </script>
    <style type="text/tailwindcss">
        @layer base {
            body {
                @apply bg-background font-display text-slate-900 antialiased;
            }
        }
        .card-hover:hover {
            transform: translateY(-4px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .video-overlay:hover .play-button {
            transform: scale(1.1);
            background-color: #2b6cee;
            color: white;
        }
        
        /* Fix para filtros - evitar que el texto desaparezca */
        .category-filter.bg-primary,
        .category-filter.bg-primary:hover {
            color: white !important;
            background-color: #2b6cee !important;
        }
        
        .mobile-category-filter.bg-primary,
        .mobile-category-filter.bg-primary:hover {
            color: white !important;
            background-color: #2b6cee !important;
            border-color: #2b6cee !important;
        }
        
        /* Asegurar que los √≠conos tambi√©n mantengan el color */
        .category-filter.bg-primary .material-symbols-outlined,
        .category-filter.bg-primary:hover .material-symbols-outlined {
            color: white !important;
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Header -->
    <header class="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-slate-200">
        <div class="max-w-[1440px] mx-auto px-4 md:px-8 h-16 md:h-20 flex items-center justify-between">
            <div class="flex items-center gap-4 md:gap-8">
                <!-- Logo de la empresa -->
                <div class="flex items-center gap-3">
                    <!-- OPCI√ìN A: Solo logo (descomenta esta l√≠nea y comenta las de abajo) -->
                    <!--<img src="imagenes/domoticahogarchile-logo.png" alt="Logo" class="h-8 md:h-12 w-auto">-->
                    
                    <!-- OPCI√ìN B: Logo + Texto (RECOMENDADO) -->
                    <!--Descomenta estas 2 l√≠neas para usar logo + texto -->
                    <img src="imagenes/domoticahogarchile-logo.png" alt="Logo" class="h-16 md:h-20 w-auto"> 
                    <div>
                        <p class="text-[8px] md:text-[10px] uppercase tracking-[0.2em] text-primary font-bold">Cat√°logo 2024</p>
                        <h1 class="text-lg md:text-2xl font-bold tracking-tight text-slate-900">Domotica Hogar Chile</h1>
                    </div>
                    
                    <!-- OPCI√ìN C: Solo texto (ACTUAL - Sin logo) -->
                    <!-- Ya est√° activo arriba -->
                </div>
                <div class="hidden md:flex items-center bg-slate-100 rounded-full px-4 py-2 w-96">
                    <span class="material-icons-round text-slate-400 text-xl">search</span>
                    <input 
                        id="searchInput"
                        class="bg-transparent border-none focus:ring-0 text-sm w-full placeholder:text-slate-400" 
                        placeholder="Buscar servicios inteligentes..." 
                        type="text"
                    />
                </div>
            </div>
            <div class="flex items-center gap-2 md:gap-6">
                <button class="hidden md:flex items-center gap-2 text-sm font-semibold text-slate-600 hover:text-primary transition-colors">
                    <span class="material-icons-round text-xl">help_outline</span>
                    Soporte
                </button>
                <button 
                    onclick="document.getElementById('contactModal').classList.remove('hidden')"
                    class="bg-primary text-white px-4 md:px-6 py-2 md:py-2.5 rounded-full text-xs md:text-sm font-bold shadow-lg shadow-primary/20 hover:bg-blue-600 transition-all"
                >
                    <span class="hidden md:inline">Contactar Experto</span>
                    <span class="md:hidden">Contacto</span>
                </button>
            </div>
        </div>
        
        <!-- Barra de b√∫squeda m√≥vil -->
        <div class="md:hidden px-4 pb-3">
            <div class="flex items-center bg-slate-100 rounded-full px-4 py-2 w-full">
                <span class="material-icons-round text-slate-400 text-lg">search</span>
                <input 
                    id="searchInputMobile"
                    class="bg-transparent border-none focus:ring-0 text-sm w-full placeholder:text-slate-400" 
                    placeholder="Buscar servicios..." 
                    type="text"
                />
            </div>
        </div>
    </header>

    <div class="max-w-[1440px] mx-auto flex gap-8 px-4 md:px-8 py-10">
        <!-- Sidebar (oculto en m√≥vil, visible en desktop) -->
        <aside id="sidebar" class="hidden lg:block w-64 flex-shrink-0 sticky top-32 h-fit">
            <div class="space-y-8">
                <div>
                    <h3 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-4">Categor√≠as</h3>
                    <nav class="space-y-1">
                        <button 
                            data-category="all"
                            class="category-filter w-full flex items-center justify-between px-4 py-3 rounded-xl bg-primary text-white font-bold group"
                        >
                            <span class="flex items-center gap-3">
                                <span class="material-symbols-outlined text-xl">grid_view</span>
                                Todas las Soluciones
                            </span>
                            <span class="text-xs bg-white/20 px-2 py-0.5 rounded">14</span>
                        </button>
                        <button 
                            data-category="Lighting"
                            class="category-filter w-full flex items-center justify-between px-4 py-3 rounded-xl text-slate-600 hover:bg-white hover:shadow-soft transition-all group"
                        >
                            <span class="flex items-center gap-3">
                                <span class="material-symbols-outlined text-xl">lightbulb</span>
                                Iluminaci√≥n
                            </span>
                        </button>
                        <button 
                            data-category="Security"
                            class="category-filter w-full flex items-center justify-between px-4 py-3 rounded-xl text-slate-600 hover:bg-white hover:shadow-soft transition-all group"
                        >
                            <span class="flex items-center gap-3">
                                <span class="material-symbols-outlined text-xl">shield</span>
                                Seguridad
                            </span>
                        </button>
                        <button 
                            data-category="Climate"
                            class="category-filter w-full flex items-center justify-between px-4 py-3 rounded-xl text-slate-600 hover:bg-white hover:shadow-soft transition-all group"
                        >
                            <span class="flex items-center gap-3">
                                <span class="material-symbols-outlined text-xl">thermostat</span>
                                Clima
                            </span>
                        </button>
                        <button 
                            data-category="Entertainment"
                            class="category-filter w-full flex items-center justify-between px-4 py-3 rounded-xl text-slate-600 hover:bg-white hover:shadow-soft transition-all group"
                        >
                            <span class="flex items-center gap-3">
                                <span class="material-symbols-outlined text-xl">tv</span>
                                Entretenimiento
                            </span>
                        </button>
                    </nav>
                </div>

                <div class="p-6 rounded-2xl bg-slate-900 text-white relative overflow-hidden">
                    <div class="relative z-10">
                        <h4 class="font-bold mb-2">¬øNecesitas un plan personalizado?</h4>
                        <p class="text-xs text-slate-400 mb-4">Nuestros dise√±adores pueden ayudarte a crear la configuraci√≥n perfecta.</p>
                        <button 
                            onclick="document.getElementById('contactModal').classList.remove('hidden')"
                            class="w-full py-2 bg-white text-slate-900 rounded-lg text-xs font-bold hover:bg-slate-100 transition-colors"
                        >
                            Solicitar Cotizaci√≥n
                        </button>
                    </div>
                    <div class="absolute -right-4 -bottom-4 opacity-20">
                        <span class="material-icons-round text-7xl">auto_awesome</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 w-full">
            <!-- Filtros m√≥viles (chips horizontales) -->
            <div class="lg:hidden mb-6 overflow-x-auto pb-2 -mx-4 px-4">
                <div class="flex gap-2 min-w-max">
                    <button 
                        data-category="all"
                        class="mobile-category-filter px-4 py-2 rounded-full bg-primary text-white text-sm font-bold whitespace-nowrap shadow-md"
                    >
                        Todas (14)
                    </button>
                    <button 
                        data-category="Lighting"
                        class="mobile-category-filter px-4 py-2 rounded-full bg-white text-slate-700 text-sm font-semibold whitespace-nowrap border border-slate-200 hover:border-primary hover:text-primary transition-all"
                    >
                        üí° Iluminaci√≥n
                    </button>
                    <button 
                        data-category="Security"
                        class="mobile-category-filter px-4 py-2 rounded-full bg-white text-slate-700 text-sm font-semibold whitespace-nowrap border border-slate-200 hover:border-primary hover:text-primary transition-all"
                    >
                        üîê Seguridad
                    </button>
                    <button 
                        data-category="Climate"
                        class="mobile-category-filter px-4 py-2 rounded-full bg-white text-slate-700 text-sm font-semibold whitespace-nowrap border border-slate-200 hover:border-primary hover:text-primary transition-all"
                    >
                        üå°Ô∏è Clima
                    </button>
                    <button 
                        data-category="Entertainment"
                        class="mobile-category-filter px-4 py-2 rounded-full bg-white text-slate-700 text-sm font-semibold whitespace-nowrap border border-slate-200 hover:border-primary hover:text-primary transition-all"
                    >
                        üì∫ Entretenimiento
                    </button>
                </div>
            </div>

            <!-- Services Grid -->
            <section class="mb-20">
                <div class="flex items-center justify-between mb-8">
                    <div>
                        <h2 class="text-2xl font-bold text-slate-900">Cat√°logo de Servicios Premium</h2>
                        <p class="text-sm text-slate-500 mt-1">Soluciones de automatizaci√≥n profesional para tu hogar inteligente</p>
                    </div>
                </div>

                <div id="servicesGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 md:gap-8">
                    <!-- Los servicios se cargar√°n aqu√≠ con JavaScript -->
                </div>

                <div id="noResults" class="hidden text-center py-20">
                    <span class="material-icons-round text-6xl text-slate-300 mb-4">search_off</span>
                    <h3 class="text-xl font-bold text-slate-900 mb-2">No se encontraron resultados</h3>
                    <p class="text-slate-500">Intenta con otros t√©rminos de b√∫squeda o categor√≠a</p>
                </div>
            </section>

            <!-- Kits y Paquetes en Oferta -->
            <section class="mb-20">
                <div class="text-center mb-12">
                    <span class="inline-block px-4 py-1.5 rounded-full bg-gradient-to-r from-orange-100 to-red-100 text-orange-700 text-sm font-bold mb-4">
                        üî• OFERTAS ESPECIALES
                    </span>
                    <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-3">Kits y Paquetes</h2>
                    <p class="text-lg text-slate-600 max-w-2xl mx-auto">
                        Comienza tu casa inteligente con nuestros paquetes especiales. 
                        <span class="text-primary font-semibold">Ahorra hasta 28%</span> vs comprar por separado.
                    </p>
                    <p class="text-sm text-slate-500 mt-2">
                        üí° Incluye instalaci√≥n profesional + Visita t√©cnica GRATIS
                    </p>
                </div>

                <div id="kitsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
                    <!-- Los kits se cargar√°n aqu√≠ con JavaScript -->
                </div>

                <!-- Nota sobre visitas -->
                <div class="mt-12 p-6 md:p-8 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-100">
                    <div class="flex flex-col md:flex-row items-start md:items-center gap-4">
                        <div class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
                            <span class="material-icons-round text-primary text-2xl">verified</span>
                        </div>
                        <div class="flex-1">
                            <h3 class="text-xl font-bold text-slate-900 mb-2">¬øNecesitas m√°s que un kit?</h3>
                            <p class="text-slate-600 mb-3">
                                Al contratar un kit, la <strong>visita t√©cnica es GRATIS</strong>. Durante la visita puedes agregar m√°s productos 
                                con <strong>descuento del 15%</strong> vs precio individual.
                            </p>
                            <p class="text-sm text-slate-500">
                                ‚ö†Ô∏è Nota: Visitas sin compra de kit tienen un costo de <strong>$25.000</strong> (reembolsable con compra sobre $150.000)
                            </p>
                        </div>
                        <button 
                            onclick="document.getElementById('contactModal').classList.remove('hidden')"
                            class="bg-primary text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-600 transition-all shadow-lg whitespace-nowrap"
                        >
                            Consultar Ahora
                        </button>
                    </div>
                </div>
            </section>

            <!-- Video Gallery -->
            <section class="mb-20">
                <div class="flex items-center justify-between mb-8">
                    <div>
                        <h2 class="text-2xl font-bold text-slate-900">Galer√≠a de Proyectos Destacados</h2>
                        <p class="text-sm text-slate-500 mt-1">Descubre nuestras soluciones inteligentes en acci√≥n</p>
                    </div>
                </div>

                <div id="videoGallery" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
                    <!-- Los videos se cargar√°n aqu√≠ con JavaScript -->
                </div>
            </section>
        </main>
    </div>

    <!-- Service Detail Modal -->
    <div id="serviceModal" class="hidden fixed inset-0 z-50 overflow-y-auto bg-slate-900/50 backdrop-blur-sm">
        <div class="min-h-screen px-4 flex items-center justify-center">
            <div class="bg-white rounded-3xl max-w-3xl w-full shadow-2xl overflow-hidden">
                <!-- El contenido se generar√° din√°micamente con JavaScript -->
            </div>
        </div>
    </div>

    <!-- Video Modal -->
    <div id="videoModal" class="hidden fixed inset-0 z-50 overflow-y-auto bg-slate-900/90 backdrop-blur-sm">
        <div class="min-h-screen px-4 flex items-center justify-center">
            <div class="bg-white rounded-3xl max-w-5xl w-full shadow-2xl overflow-hidden">
                <div class="relative">
                    <button 
                        onclick="closeVideoModal()"
                        class="absolute top-4 right-4 z-10 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center hover:bg-white transition-colors"
                    >
                        <span class="material-icons-round text-slate-900">close</span>
                    </button>
                    <div class="aspect-video">
                        <iframe 
                            id="videoFrame"
                            class="w-full h-full"
                            src=""
                            frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen
                        ></iframe>
                    </div>
                </div>
                <div class="p-6">
                    <h3 id="videoTitle" class="text-xl font-bold text-slate-900"></h3>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Modal -->
    <div id="contactModal" class="hidden fixed inset-0 z-50 overflow-y-auto bg-slate-900/50 backdrop-blur-sm">
        <div class="min-h-screen px-4 flex items-center justify-center">
            <div class="bg-white rounded-3xl max-w-md w-full shadow-2xl p-8">
                <!-- Logo en el modal (opcional) -->
                <!-- Descomenta para mostrar logo en el modal -->
                <!-- <div class="flex justify-center mb-4">
                    <img src="imagenes/logo.png" alt="Logo" class="h-16 w-auto">
                </div> -->
                
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl font-bold text-slate-900">Contactar Experto</h2>
                    <button 
                        onclick="document.getElementById('contactModal').classList.add('hidden')"
                        class="w-10 h-10 rounded-full hover:bg-slate-100 flex items-center justify-center transition-colors"
                    >
                        <span class="material-icons-round text-slate-900">close</span>
                    </button>
                </div>

                <div class="space-y-4">
                    <a 
                        href="tel:+56912345678"
                        class="flex items-center gap-4 p-4 rounded-xl border border-slate-200 hover:border-primary hover:bg-blue-50 transition-all group"
                    >
                        <div class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-colors">
                            <span class="material-icons-round text-primary group-hover:text-white">phone</span>
                        </div>
                        <div>
                            <div class="font-bold text-slate-900">Tel√©fono</div>
                            <div class="text-sm text-slate-500">+56 9 82489225</div>
                        </div>
                    </a>

                    <a href="/cdn-cgi/l/email-protection#bcdfd3d2c8dddfc8d3fccfd1ddcec8cfd3d0c9c8d5d3d2cf92dfd0" class="flex items-center gap-4 p-4 rounded-xl border border-slate-200 hover:border-primary hover:bg-blue-50 transition-all group">
                        <div class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-colors">
                            <span class="material-icons-round text-primary group-hover:text-white">email</span>
                        </div>
                        <div>
                            <div class="font-bold text-slate-900">Email</div>
                            <div class="text-sm text-slate-500"><span class="__cf_email__" data-cfemail="51323e3f253032253e11223c302325223e3d2425383e3f227f323d">[<span class="__cf_email__" data-cfemail="98fbf9eaf4f7ebf4fcfff5d8fff5f9f1f4b6fbf7f5"><span class="__cf_email__" data-cfemail="d6b2b9bbb9a2bfb5b7beb9b1b7a4b5bebfbab396b1bbb7bfbaf8b5b9bb">[email&#160;protected]</span></span>]</span></div>
                        </div>
                    </a>

                    <a 
                        href="https://wa.me/56982489225"
                        target="_blank"
                        class="flex items-center gap-4 p-4 rounded-xl border border-slate-200 hover:border-green-500 hover:bg-green-50 transition-all group"
                    >
                        <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center group-hover:bg-green-500 transition-colors">
                            <span class="material-icons-round text-green-600 group-hover:text-white">chat</span>
                        </div>
                        <div>
                            <div class="font-bold text-slate-900">WhatsApp</div>
                            <div class="text-sm text-slate-500">Chatea con nosotros</div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Kit Modal -->
    <div id="kitModal" class="hidden fixed inset-0 z-50 overflow-y-auto bg-slate-900/50 backdrop-blur-sm">
        <div class="min-h-screen px-4 py-8 flex items-center justify-center">
            <div class="modal-content bg-white rounded-3xl max-w-4xl w-full shadow-2xl overflow-hidden">
                <!-- El contenido se generar√° din√°micamente -->
            </div>
        </div>
    </div>

    <!-- Scroll to Top Button -->
    <button 
        id="scrollTopBtn"
        onclick="window.scrollTo({top: 0, behavior: 'smooth'})"
        class="fixed bottom-8 right-8 w-12 h-12 rounded-full bg-white shadow-soft border border-slate-200 flex items-center justify-center text-slate-400 hover:text-primary transition-colors opacity-0 pointer-events-none"
    >
        <span class="material-icons-round">expand_less</span>
    </button>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
        // Data
        const services = [
            {
                id: 1,
                title: "Control de Luces y Enchufes",
                category: "Lighting",
                icon: "lightbulb",
                images: [
                    "imagenes/int_modelo_clasico.webp?w=600&h=400&fit=crop&q=80",
                    "imagenes/int_negro.webp?w=600&h=400&fit=crop&q=80",
                    "imagenes/int_negro_asistentes.webp?w=600&h=400&fit=crop&q=80",
                ],
                description: "Controla todas las luces y dispositivos de tu hogar desde tu smartphone o con comandos de voz.",
                features: [
                    "Control remoto desde cualquier lugar",
                    "Programaci√≥n de horarios autom√°ticos",
                    "Ahorro energ√©tico inteligente hasta 40%",
                    "Compatible con todas las marcas principales"
                ],
                benefits: "Reduce tu consumo el√©ctrico y aumenta la comodidad con automatizaciones inteligentes.",
                price: "-"
            },
            {
                id: 2,
                title: "Asistentes Virtuales",
                category: "Entertainment",
                icon: "mic",
                images: [
                    "imagenes/alexa-google home.jpeg?w=800&h=600&fit=crop&q=80",
                    "imagenes/Alexa Echo Dot 5.webp?w=600&h=400&fit=crop&q=80",
                    "imagenes/Alexa Echo Pop.jpeg?w=600&h=400&fit=crop&q=80",
                ],
                description: "Instalaci√≥n y configuraci√≥n profesional de Alexa y Google Home para controlar tu hogar por voz.",
                features: [
                    "Configuraci√≥n completa de dispositivos",
                    "Integraci√≥n con todos tus aparatos",
                    "Creaci√≥n de rutinas personalizadas",
                    "Soporte t√©cnico incluido por 3 meses"
                ],
                benefits: "Controla tu hogar con tu voz. Crea escenas como 'Buenos d√≠as' que encienden luces y preparan el caf√©.",
                price: "-"
            },
            {
                id: 3,
                title: "Cerraduras Inteligentes",
                category: "Security",
                icon: "lock",
                images: [
                    "imagenes/cerradura-inteligente-con-huella.jpg?w=800&h=600&fit=crop&q=80",
                    "imagenes/cerradura-inteligente-con-huella1.avif?w=800&h=600&fit=crop&q=80",
                ],
                description: "Acceso seguro y sin llaves a tu hogar con tecnolog√≠a de cerradura inteligente de √∫ltima generaci√≥n.",
                features: [
                    "Apertura con smartphone, c√≥digo o huella",
                    "Registro completo de accesos",
                    "C√≥digos temporales para invitados",
                    "Alertas de seguridad en tiempo real"
                ],
                benefits: "Olv√≠date de las llaves. Controla qui√©n entra y cu√°ndo con total seguridad.",
                price: "-"
            },
            {
                id: 4,
                title: "Home Assistant Central",
                category: "Entertainment",
                icon: "hub",
                images: [
                    "imagenes/raspberry-pi-5-4.webp?w=800&h=600&fit=crop&q=80",
                ],
                description: "Sistema de automatizaci√≥n central con Raspberry Pi. Control total y personalizado de tu hogar inteligente.",
                features: [
                    "Hub central con Raspberry Pi 4/5",
                    "Instalaci√≥n de Home Assistant OS",
                    "Configuraciones personalizadas avanzadas",
                    "Integraci√≥n de todos los dispositivos"
                ],
                benefits: "El cerebro de tu casa inteligente. Automatizaciones avanzadas sin depender de la nube.",
                price: "-"
            },
            {
                id: 5,
                title: "Control de Portones WiFi",
                category: "Security",
                icon: "garage",
                images: [
                    "imagenes/porton-garage.avif?w=800&h=600&fit=crop&q=80",
                ],
                description: "Abre y cierra tu port√≥n desde tu smartphone o autom√°ticamente al llegar a casa con geolocalizaci√≥n.",
                features: [
                    "Apertura remota desde cualquier lugar",
                    "Automatizaci√≥n por geolocalizaci√≥n GPS",
                    "Integraci√≥n con asistentes de voz",
                    "Registro y notificaciones de aperturas"
                ],
                benefits: "Llegaste a casa y el port√≥n se abre solo. Nunca m√°s esperes bajo la lluvia.",
                price: "-"
            },
            {
                id: 6,
                title: "Iluminaci√≥n LED COB",
                category: "Lighting",
                icon: "light_mode",
                images: [
                    "imagenes/leds-cob.avif?w=800&h=600&fit=crop&q=80",
                ],
                description: "Instalaci√≥n de tiras LED COB de alta calidad con control autom√°tico y personalizable de colores.",
                features: [
                    "Iluminaci√≥n uniforme sin puntos LED",
                    "16 millones de colores RGB disponibles",
                    "Automatizaci√≥n por horarios y eventos",
                    "Sincronizaci√≥n con m√∫sica en tiempo real"
                ],
                benefits: "Crea ambientes √∫nicos con iluminaci√≥n de alta gama. Ideal para sala, cocina y dormitorios.",
                price: "-"
            },
            {
                id: 7,
                title: "Control Infrarrojo Universal",
                category: "Entertainment",
                icon: "settings_remote",
                images: [
                   "imagenes/smart-ir-remote.avif?w=800&h=600&fit=crop&q=80",
                ],
                description: "Controla todos tus dispositivos IR (TV, AC, ventiladores) desde una sola app o por comandos de voz.",
                features: [
                    "Control de aires acondicionados",
                    "TVs, decodificadores y audio",
                    "Integraci√≥n total con asistentes",
                    "Rutinas automatizadas inteligentes"
                ],
                benefits: "Un solo control para todo. Automatiza tu AC para que se apague cuando sales de casa.",
                price: "-"
            },
            {
                id: 8,
                title: "Sensores de Clima",
                category: "Climate",
                icon: "thermostat",
                images: [
                   "imagenes/termostato-wifi.avif?w=800&h=600&fit=crop&q=80",
                ],
                description: "Monitoreo de temperatura y humedad en tiempo real con automatizaciones inteligentes de climatizaci√≥n.",
                features: [
                    "Datos precisos de temperatura y humedad",
                    "Automatizaci√≥n de aire acondicionado",
                    "Alertas personalizadas por condiciones",
                    "Historial completo de datos clim√°ticos"
                ],
                benefits: "Mant√©n el clima perfecto. El AC se enciende autom√°ticamente si la temperatura sube de 25¬∞C.",
                price: "-"
            },
            {
                id: 9,
                title: "C√°maras Inteligentes con IA",
                category: "Security",
                icon: "videocam",
                images: [
                   "imagenes/camara-ext-ia.jpg?w=800&h=600&fit=crop&q=80",
                ],
                description: "Sistemas de vigilancia inteligentes con detecci√≥n de personas, animales, veh√≠culos y automatizaciones.",
                features: [
                    "Detecci√≥n inteligente con IA avanzada",
                    "Notificaciones instant√°neas filtradas",
                    "Grabaci√≥n en nube o almacenamiento local",
                    "Automatizaciones por eventos detectados"
                ],
                benefits: "Solo recibe alertas importantes. La IA distingue entre personas, mascotas y movimientos.",
                price: "-"
            },
            {
                id: 10,
                title: "Sensores de Presencia PIR",
                category: "Lighting",
                icon: "sensors",
                images: [
                   "imagenes/sensor-presencia.avif?w=800&h=600&fit=crop&q=80",
                ],
                description: "Detecci√≥n de movimiento para automatizar luces, seguridad y climatizaci√≥n con m√°xima eficiencia.",
                features: [
                    "Encendido autom√°tico de luces",
                    "Ahorro energ√©tico hasta 60%",
                    "Integraci√≥n con sistema de seguridad",
                    "Instalaci√≥n inal√°mbrica sin obras"
                ],
                benefits: "Las luces se encienden cuando entras y se apagan cuando sales. Autom√°tico y eficiente.",
                price: "-"
            },
            {
                id: 11,
                title: "Enchufes Inteligentes",
                category: "Lighting",
                icon: "power",
                images: [
                   "imagenes/enchufe-int.avif?w=800&h=600&fit=crop&q=80",
                ],
                description: "Soporte para m√∫ltiples marcas y tipos de enchufes inteligentes con configuraci√≥n √≥ptima.",
                features: [
                    "Compatible con Tuya, Tasmota, Shelly",
                    "Medici√≥n de consumo el√©ctrico en tiempo real",
                    "Programaci√≥n horaria avanzada",
                    "Control grupal de m√∫ltiples enchufes"
                ],
                benefits: "Convierte cualquier aparato en inteligente. Monitorea y controla el consumo energ√©tico.",
                price: "-"
            },
            {
                id: 12,
                title: "Botones Digitales",
                category: "Entertainment",
                icon: "radio_button_checked",
                images: [
                   "imagenes/boton-int.avif?w=800&h=600&fit=crop&q=80",
                ],
                description: "Botones inal√°mbricos programables para activar escenas complejas y controlar m√∫ltiples dispositivos.",
                features: [
                    "Instalaci√≥n inal√°mbrica sin cables",
                    "M√∫ltiples acciones configurables por bot√≥n",
                    "Activaci√≥n de escenas complejas",
                    "Dise√±o elegante y discreto minimalista"
                ],
                benefits: "Un bot√≥n para 'Modo Cine': apaga luces, cierra cortinas, enciende TV y proyector.",
                price: "-"
            },
            {
                id: 13,
                title: "Sensores de Apertura",
                category: "Security",
                icon: "door_sensor",
                images: [
                   "imagenes/sensor-apertura1.avif?w=800&h=600&fit=crop&q=80",
                   "imagenes/sensor-apertura2.avif?w=800&h=600&fit=crop&q=80",
                   "imagenes/sensor-apertura3.avif?w=800&h=600&fit=crop&q=80",
                ],
                description: "Monitoreo de puertas y ventanas con alertas de seguridad instant√°neas y automatizaciones inteligentes.",
                features: [
                    "Alertas instant√°neas de apertura",
                    "Automatizaci√≥n de luces y climatizaci√≥n",
                    "Integraci√≥n con sistema de alarma",
                    "Bater√≠a de ultra larga duraci√≥n (2 a√±os)"
                ],
                benefits: "Recibe alertas si alguien abre una puerta. Automatiza el AC para apagarse con ventanas abiertas.",
                price: "-"
            },
            {
                id: 14,
                title: "Detectores de Humo",
                category: "Security",
                icon: "smoke_detector",
                images: [
                   "imagenes/sensor-humo1.avif?w=800&h=600&fit=crop&q=80",
                   "imagenes/sensor-humo2.avif?w=800&h=600&fit=crop&q=80",
                ],
                description: "Sensores inteligentes de humo e incendio con alertas inmediatas a tu smartphone y sirena potente.",
                features: [
                    "Detecci√≥n temprana de humo e incendios",
                    "Notificaciones instant√°neas cr√≠ticas",
                    "Integraci√≥n con sistema de alarma central",
                    "Pruebas autom√°ticas peri√≥dicas mensuales"
                ],
                benefits: "Protecci√≥n 24/7. Alertas incluso cuando no est√°s en casa para actuar r√°pido.",
                price: "-"
            }
        ];

        // Kits y Paquetes
        const kits = [
            {
                id: 1,
                title: "Kit Inicio B√°sico",
                badge: "üè† Popular",
                image: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop&q=80",
                description: "Perfecto para comenzar tu casa inteligente. Controla tus luces con la voz.",
                includes: [
                    "1 Amazon Echo Dot (Alexa)",
                    "2 Ampolletas inteligentes RGB",
                    "1 Interruptor inteligente",
                    "Instalaci√≥n y configuraci√≥n completa"
                ],
                priceRegular: "$180.000",
                priceOffer: "$129.990",
                discount: "28%",
                savings: "$50.010",
                popular: true
            },
            {
                id: 2,
                title: "Kit Seguridad Inteligente",
                badge: "üîê Oferta",
                image: "https://images.unsplash.com/photo-1558002038-bb4237b54708?w=800&h=600&fit=crop&q=80",
                description: "Protege tu hogar con tecnolog√≠a inteligente y monitoreo desde tu celular.",
                includes: [
                    "1 Cerradura digital con huella",
                    "2 Sensores de apertura (puertas/ventanas)",
                    "1 C√°mara WiFi con IA",
                    "1 Sensor de movimiento",
                    "Instalaci√≥n profesional"
                ],
                priceRegular: "$350.000",
                priceOffer: "$279.990",
                discount: "20%",
                savings: "$70.010"
            },
            {
                id: 3,
                title: "Kit Iluminaci√≥n Premium",
                badge: "üí° Nuevo",
                image: "https://images.unsplash.com/photo-1513506003901-1e6a229e2d15?w=800&h=600&fit=crop&q=80",
                description: "Transforma tus espacios con iluminaci√≥n inteligente de colores.",
                includes: [
                    "5 Ampolletas RGB inteligentes",
                    "2 Tiras LED COB de 3 metros",
                    "1 Google Home Mini",
                    "3 Interruptores inteligentes",
                    "Configuraci√≥n y sincronizaci√≥n"
                ],
                priceRegular: "$280.000",
                priceOffer: "$219.990",
                discount: "21%",
                savings: "$60.010"
            },
            {
                id: 4,
                title: "Kit Casa Completa",
                badge: "‚≠ê Premium",
                image: "https://images.unsplash.com/photo-1597733336794-12d05021d510?w=800&h=600&fit=crop&q=80",
                description: "La soluci√≥n completa para convertir tu casa en un hogar inteligente.",
                includes: [
                    "1 Hub Home Assistant (Raspberry Pi)",
                    "1 Amazon Echo Show",
                    "4 Ampolletas inteligentes",
                    "2 Enchufes inteligentes",
                    "1 Sensor de temperatura",
                    "2 Sensores de movimiento",
                    "1 Tira LED COB 5 metros",
                    "Instalaci√≥n y configuraci√≥n total"
                ],
                priceRegular: "$520.000",
                priceOffer: "$399.990",
                discount: "23%",
                savings: "$120.010",
                featured: true
            },
            {
                id: 5,
                title: "Kit Confort Clim√°tico",
                badge: "üå°Ô∏è Ahorro",
                image: "https://images.unsplash.com/photo-1545259741-2ea3ebf61fa3?w=800&h=600&fit=crop&q=80",
                description: "Mant√©n el clima perfecto y ahorra en electricidad con automatizaci√≥n inteligente.",
                includes: [
                    "2 Sensores temperatura/humedad",
                    "1 Control IR universal (AC/TV)",
                    "2 Enchufes con medici√≥n consumo",
                    "1 Alexa Echo Dot",
                    "Rutinas de ahorro energ√©tico"
                ],
                priceRegular: "$190.000",
                priceOffer: "$149.990",
                discount: "21%",
                savings: "$40.010"
            },
            {
                id: 6,
                title: "Kit Entretenimiento Smart",
                badge: "üì∫ Oferta",
                image: "https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?w=800&h=600&fit=crop&q=80",
                description: "Controla todo tu entretenimiento con comandos de voz y automatizaciones.",
                includes: [
                    "1 Control IR universal",
                    "1 Google Chromecast",
                    "2 Tiras LED para TV",
                    "1 Alexa Echo Dot",
                    "Escenas predefinidas (Modo Cine, etc.)"
                ],
                priceRegular: "$170.000",
                priceOffer: "$129.990",
                discount: "24%",
                savings: "$40.010"
            }
        ];

        const videos = [
            {
                id: 1,
                title: "Control ampolletas inteligentes con Alexa",
                description: "Demostraci√≥n de rutinas de voz personalizadas: 'Alexa, buenos d√≠as' activa luces, noticias y cafetera.",
                thumbnail: "imagenes/ampolleta_int_alexa.avif",
                duration: "3:30",
                videoUrl: "videos/amp-int_alexa.mp4"
            },            
            {
                id: 2,
                title: "Iluminaci√≥n LED Inteligente",
                description: "Instalaci√≥n de tiras LED COB con sincronizaci√≥n de colores y control por voz. Efectos din√°micos y automatizaciones.",
                thumbnail: "https://images.unsplash.com/photo-1513506003901-1e6a229e2d15?w=800&h=600&fit=crop&q=80",
                duration: "3:45",
                videoUrl: "https://www.youtube.com/embed/LXb3EKWsInQ"
            },
            {
                id: 3,
                title: "Sistema de Seguridad con IA",
                description: "C√°maras inteligentes con detecci√≥n de personas y automatizaciones. Notificaciones instant√°neas en tiempo real.",
                thumbnail: "https://images.unsplash.com/photo-1557324232-b8917d3c3dcb?w=800&h=600&fit=crop&q=80",
                duration: "4:12",
                videoUrl: "https://www.youtube.com/embed/Y6693gFbHsM"
            },
            {
                id: 4,
                title: "Control de Port√≥n Autom√°tico",
                description: "Apertura autom√°tica del port√≥n al llegar a casa usando geolocalizaci√≥n. Control total desde el smartphone.",
                thumbnail: "https://images.unsplash.com/photo-1582407947304-fd86f028f716?w=800&h=600&fit=crop&q=80",
                duration: "2:58",
                videoUrl: "https://www.youtube.com/embed/2KXdIwGBpIU"
            },
            {
                id: 5,
                title: "Casa Inteligente Completa",
                description: "Transformaci√≥n completa de una vivienda con control total de luces, climatizaci√≥n y seguridad mediante Home Assistant.",
                thumbnail: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop&q=80",
                duration: "5:24",
                videoUrl: "https://www.youtube.com/embed/3Xpd2fFWWVg"
            },
            {
                id: 6,
                title: "Sensores y Automatizaciones Avanzadas",
                description: "Sistema inteligente que detecta presencia y ajusta luces, temperatura y persianas autom√°ticamente.",
                thumbnail: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop&q=80",
                duration: "4:45",
                videoUrl: "https://www.youtube.com/embed/wOq7BIJ6ItM"
            }
        ];

        // Render services
        function renderServices() {
            const grid = document.getElementById('servicesGrid');
            grid.innerHTML = services.map(service => {
                // Soporte para imagen √∫nica o m√∫ltiples im√°genes
                const imageArray = service.images || [service.image];
                const hasMultipleImages = imageArray.length > 1;
                
                return `
                <div 
                    class="service-card bg-white rounded-2xl overflow-hidden shadow-soft border border-slate-100 card-hover group flex flex-col"
                    data-category="${service.category}"
                    data-title="${service.title.toLowerCase()}"
                    data-description="${service.description.toLowerCase()}"
                >
                    <div class="h-56 relative overflow-hidden">
                        <!-- Contenedor de im√°genes -->
                        <div class="image-gallery relative w-full h-full" data-service-id="${service.id}">
                            ${imageArray.map((img, index) => `
                                <img 
                                    alt="${service.title}"
                                    class="gallery-image absolute inset-0 w-full h-full object-contain bg-slate-50 group-hover:scale-105 transition-transform duration-500 ${index === 0 ? 'opacity-100' : 'opacity-0'}"
                                    src="${img}"
                                    data-index="${index}"
                                />
                            `).join('')}
                        </div>
                        
                        <!-- Navegaci√≥n de im√°genes (solo si hay m√∫ltiples) -->
                        ${hasMultipleImages ? `
                            <button 
                                onclick="event.stopPropagation(); changeImage(${service.id}, -1)"
                                class="absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center hover:bg-white transition-all shadow-lg z-10"
                            >
                                <span class="material-icons-round text-slate-900 text-lg">chevron_left</span>
                            </button>
                            <button 
                                onclick="event.stopPropagation(); changeImage(${service.id}, 1)"
                                class="absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center hover:bg-white transition-all shadow-lg z-10"
                            >
                                <span class="material-icons-round text-slate-900 text-lg">chevron_right</span>
                            </button>
                            
                            <!-- Indicadores de puntos -->
                            <div class="absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1.5 z-10">
                                ${imageArray.map((_, index) => `
                                    <button 
                                        onclick="event.stopPropagation(); setImage(${service.id}, ${index})"
                                        class="image-dot w-2 h-2 rounded-full transition-all ${index === 0 ? 'bg-white w-6' : 'bg-white/60'}"
                                        data-dot-index="${index}"
                                    ></button>
                                `).join('')}
                            </div>
                        ` : ''}
                        
                        <div class="absolute top-4 left-4">
                            <span class="px-2.5 py-1 rounded-full bg-white/90 backdrop-blur-sm text-[10px] font-bold uppercase text-slate-900 shadow-sm">
                                ${service.category}
                            </span>
                        </div>
                        
                        ${hasMultipleImages ? `
                            <div class="absolute top-4 right-4">
                                <span class="px-2 py-1 rounded-full bg-black/60 backdrop-blur-sm text-[10px] text-white font-medium flex items-center gap-1">
                                    <span class="material-icons-round text-xs">photo_library</span>
                                    ${imageArray.length}
                                </span>
                            </div>
                        ` : ''}
                    </div>
                    <div class="p-5 flex flex-col flex-1">
                        <h3 class="text-lg font-bold mb-2">${service.title}</h3>
                        <p class="text-xs text-slate-500 mb-4 leading-relaxed line-clamp-2">
                            ${service.description}
                        </p>
                        <div class="mt-auto">
                            <div class="text-primary font-bold text-lg mb-3 text-center">${service.price}</div>
                            <button 
                                onclick="openServiceModal(${service.id})"
                                class="w-full py-2.5 rounded-xl border border-slate-200 text-sm font-bold text-slate-900 hover:bg-slate-50 transition-colors uppercase tracking-wider"
                            >
                                Ver Detalles
                            </button>
                        </div>
                    </div>
                </div>
                `;
            }).join('');
            
            // Inicializar √≠ndices de im√°genes
            services.forEach(service => {
                if (!window.imageIndices) window.imageIndices = {};
                window.imageIndices[service.id] = 0;
            });
        }

        // Render videos
        function renderVideos() {
            const gallery = document.getElementById('videoGallery');
            gallery.innerHTML = videos.map(video => `
                <div class="group cursor-pointer" onclick="openVideoModal('${video.videoUrl}', '${video.title}')">
                    <div class="relative aspect-video rounded-2xl overflow-hidden shadow-soft border border-slate-100 mb-4 video-overlay">
                        <img 
                            alt="${video.title}"
                            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
                            src="${video.thumbnail}"
                        />
                        <div class="absolute inset-0 bg-slate-900/20 group-hover:bg-slate-900/40 transition-colors flex items-center justify-center">
                            <div class="play-button w-14 h-14 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center text-primary shadow-xl transition-all duration-300">
                                <span class="material-icons-round text-3xl ml-1">play_arrow</span>
                            </div>
                        </div>
                        <div class="absolute bottom-4 right-4">
                            <span class="px-2 py-1 rounded bg-black/50 backdrop-blur-md text-[10px] text-white font-medium">
                                ${video.duration}
                            </span>
                        </div>
                    </div>
                    <h3 class="font-bold text-slate-900 mb-1 group-hover:text-primary transition-colors">
                        ${video.title}
                    </h3>
                    <p class="text-xs text-slate-500 leading-relaxed">
                        ${video.description}
                    </p>
                </div>
            `).join('');
        }

        // Render kits
        function renderKits() {
            const grid = document.getElementById('kitsGrid');
            grid.innerHTML = kits.map(kit => `
                <div class="bg-white rounded-2xl overflow-hidden shadow-soft border border-slate-100 hover:shadow-xl transition-all duration-300 flex flex-col ${kit.featured ? 'ring-2 ring-primary' : ''}">
                    ${kit.featured ? `
                        <div class="bg-gradient-to-r from-primary to-blue-600 text-white text-center py-2 text-sm font-bold">
                            ‚≠ê M√ÅS COMPLETO
                        </div>
                    ` : ''}
                    
                    <div class="relative h-48 overflow-hidden">
                        <img 
                            src="${kit.image}" 
                            alt="${kit.title}"
                            class="w-full h-full object-cover"
                        />
                        <div class="absolute top-3 left-3">
                            <span class="px-3 py-1 rounded-full bg-white/95 backdrop-blur-sm text-xs font-bold text-slate-900 shadow-md">
                                ${kit.badge}
                            </span>
                        </div>
                        <div class="absolute top-3 right-3">
                            <span class="px-3 py-1.5 rounded-full bg-red-500 text-white text-xs font-bold shadow-lg">
                                -${kit.discount} OFF
                            </span>
                        </div>
                    </div>
                    
                    <div class="p-6 flex flex-col flex-1">
                        <h3 class="text-xl font-bold text-slate-900 mb-2">${kit.title}</h3>
                        <p class="text-sm text-slate-600 mb-4">${kit.description}</p>
                        
                        <div class="mb-4">
                            <p class="text-xs font-semibold text-slate-700 mb-2 uppercase tracking-wide">‚úì Incluye:</p>
                            <ul class="space-y-1.5">
                                ${kit.includes.map(item => `
                                    <li class="text-sm text-slate-600 flex items-start gap-2">
                                        <span class="text-green-500 mt-0.5">‚úì</span>
                                        <span>${item}</span>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                        
                        <div class="mt-auto pt-4 border-t border-slate-100">
                            <div class="flex items-baseline gap-2 mb-1">
                                <span class="text-sm text-slate-400 line-through">${kit.priceRegular}</span>
                                <span class="text-xs text-green-600 font-semibold">Ahorras ${kit.savings}</span>
                            </div>
                            <div class="text-3xl font-bold text-primary mb-4">${kit.priceOffer}</div>
                            
                            <button 
                                onclick="openKitModal(${kit.id})"
                                class="w-full py-3 rounded-xl bg-gradient-to-r from-primary to-blue-600 text-white font-bold hover:shadow-lg transition-all"
                            >
                                Ver Oferta Completa
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Initialize
        renderServices();
        renderKits();
        renderVideos();

        // Funciones para navegar por las im√°genes
        window.changeImage = (serviceId, direction) => {
            const service = services.find(s => s.id === serviceId);
            const imageArray = service.images || [service.image];
            
            if (imageArray.length <= 1) return;
            
            const currentIndex = window.imageIndices[serviceId];
            let newIndex = currentIndex + direction;
            
            if (newIndex < 0) newIndex = imageArray.length - 1;
            if (newIndex >= imageArray.length) newIndex = 0;
            
            window.imageIndices[serviceId] = newIndex;
            updateImageDisplay(serviceId, newIndex);
        };

        window.setImage = (serviceId, index) => {
            window.imageIndices[serviceId] = index;
            updateImageDisplay(serviceId, index);
        };

        function updateImageDisplay(serviceId, activeIndex) {
            const gallery = document.querySelector(`[data-service-id="${serviceId}"]`);
            if (!gallery) return;
            
            const images = gallery.querySelectorAll('.gallery-image');
            const dots = gallery.parentElement.querySelectorAll('.image-dot');
            
            images.forEach((img, index) => {
                if (index === activeIndex) {
                    img.classList.remove('opacity-0');
                    img.classList.add('opacity-100');
                } else {
                    img.classList.remove('opacity-100');
                    img.classList.add('opacity-0');
                }
            });
            
            dots.forEach((dot, index) => {
                if (index === activeIndex) {
                    dot.classList.add('bg-white', 'w-6');
                    dot.classList.remove('bg-white/60', 'w-2');
                } else {
                    dot.classList.remove('bg-white', 'w-6');
                    dot.classList.add('bg-white/60', 'w-2');
                }
            });
        }

        // Filter functionality
        const categoryButtons = document.querySelectorAll('.category-filter');
        const mobileCategoryButtons = document.querySelectorAll('.mobile-category-filter');
        const serviceCards = document.querySelectorAll('.service-card');
        const searchInput = document.getElementById('searchInput');
        const searchInputMobile = document.getElementById('searchInputMobile');
        const noResults = document.getElementById('noResults');
        const servicesGrid = document.getElementById('servicesGrid');

        let currentCategory = 'all';
        let currentSearch = '';

        // Desktop category filters
        categoryButtons.forEach(button => {
            button.addEventListener('click', () => {
                categoryButtons.forEach(btn => {
                    btn.classList.remove('bg-primary', 'text-white');
                    btn.classList.add('text-slate-600');
                });
                button.classList.add('bg-primary', 'text-white');
                button.classList.remove('text-slate-600');

                currentCategory = button.dataset.category;
                
                // Sync mobile filters
                syncMobileFilters(currentCategory);
                
                filterServices();
            });
        });

        // Mobile category filters
        mobileCategoryButtons.forEach(button => {
            button.addEventListener('click', () => {
                mobileCategoryButtons.forEach(btn => {
                    btn.classList.remove('bg-primary', 'text-white', 'shadow-md');
                    btn.classList.add('bg-white', 'text-slate-700', 'border', 'border-slate-200');
                });
                button.classList.add('bg-primary', 'text-white', 'shadow-md');
                button.classList.remove('bg-white', 'text-slate-700', 'border', 'border-slate-200');

                currentCategory = button.dataset.category;
                
                // Sync desktop filters
                syncDesktopFilters(currentCategory);
                
                filterServices();
            });
        });

        function syncMobileFilters(category) {
            mobileCategoryButtons.forEach(btn => {
                if (btn.dataset.category === category) {
                    btn.classList.add('bg-primary', 'text-white', 'shadow-md');
                    btn.classList.remove('bg-white', 'text-slate-700', 'border', 'border-slate-200');
                } else {
                    btn.classList.remove('bg-primary', 'text-white', 'shadow-md');
                    btn.classList.add('bg-white', 'text-slate-700', 'border', 'border-slate-200');
                }
            });
        }

        function syncDesktopFilters(category) {
            categoryButtons.forEach(btn => {
                if (btn.dataset.category === category) {
                    btn.classList.add('bg-primary', 'text-white');
                    btn.classList.remove('text-slate-600');
                } else {
                    btn.classList.remove('bg-primary', 'text-white');
                    btn.classList.add('text-slate-600');
                }
            });
        }

        // Search functionality (desktop)
        searchInput.addEventListener('input', (e) => {
            currentSearch = e.target.value.toLowerCase();
            if (searchInputMobile) searchInputMobile.value = e.target.value;
            filterServices();
        });

        // Search functionality (mobile)
        if (searchInputMobile) {
            searchInputMobile.addEventListener('input', (e) => {
                currentSearch = e.target.value.toLowerCase();
                searchInput.value = e.target.value;
                filterServices();
            });
        }

        function filterServices() {
            const serviceCards = document.querySelectorAll('.service-card');
            let visibleCount = 0;

            serviceCards.forEach(card => {
                const category = card.dataset.category;
                const title = card.dataset.title;
                const description = card.dataset.description;

                const matchesCategory = currentCategory === 'all' || category === currentCategory;
                const matchesSearch = currentSearch === '' || 
                    title.includes(currentSearch) || 
                    description.includes(currentSearch);

                if (matchesCategory && matchesSearch) {
                    card.classList.remove('hidden');
                    visibleCount++;
                } else {
                    card.classList.add('hidden');
                }
            });

            if (visibleCount === 0) {
                noResults.classList.remove('hidden');
                servicesGrid.classList.add('hidden');
            } else {
                noResults.classList.add('hidden');
                servicesGrid.classList.remove('hidden');
            }
        }

        // Service Modal
        window.openServiceModal = (serviceId) => {
            const service = services.find(s => s.id === serviceId);
            if (!service) return;

            const imageArray = service.images || [service.image];
            const hasMultipleImages = imageArray.length > 1;

            // Crear galer√≠a de im√°genes para el modal
            const modalImageHTML = hasMultipleImages ? `
                <div class="relative h-80">
                    <div class="modal-image-gallery relative w-full h-full" data-modal-service-id="${service.id}">
                        ${imageArray.map((img, index) => `
                            <img 
                                class="modal-gallery-image absolute inset-0 w-full h-full object-contain bg-slate-50 transition-opacity duration-300 ${index === 0 ? 'opacity-100' : 'opacity-0'}"
                                src="${img}"
                                alt="${service.title}"
                                data-index="${index}"
                            />
                        `).join('')}
                    </div>
                    
                    <!-- Navegaci√≥n -->
                    <button 
                        onclick="changeModalImage(${service.id}, -1)"
                        class="absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center hover:bg-white transition-all shadow-lg z-10"
                    >
                        <span class="material-icons-round text-slate-900">chevron_left</span>
                    </button>
                    <button 
                        onclick="changeModalImage(${service.id}, 1)"
                        class="absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center hover:bg-white transition-all shadow-lg z-10"
                    >
                        <span class="material-icons-round text-slate-900">chevron_right</span>
                    </button>
                    
                    <!-- Indicadores -->
                    <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-10">
                        ${imageArray.map((_, index) => `
                            <button 
                                onclick="setModalImage(${service.id}, ${index})"
                                class="modal-image-dot w-2.5 h-2.5 rounded-full transition-all ${index === 0 ? 'bg-white w-8' : 'bg-white/60'}"
                                data-modal-dot-index="${index}"
                            ></button>
                        `).join('')}
                    </div>
                    
                    <!-- Contador -->
                    <div class="absolute top-4 right-4">
                        <span class="px-3 py-1.5 rounded-full bg-black/60 backdrop-blur-sm text-sm text-white font-medium">
                            <span id="modalImageCounter">1</span> / ${imageArray.length}
                        </span>
                    </div>
                    
                    <button 
                        onclick="closeServiceModal()"
                        class="absolute top-4 left-4 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center hover:bg-white transition-colors"
                    >
                        <span class="material-icons-round text-slate-900">close</span>
                    </button>
                </div>
            ` : `
                <div class="relative h-80 bg-slate-50">
                    <img class="w-full h-full object-contain" src="${imageArray[0]}" alt="${service.title}"/>
                    <button 
                        onclick="closeServiceModal()"
                        class="absolute top-4 right-4 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center hover:bg-white transition-colors"
                    >
                        <span class="material-icons-round text-slate-900">close</span>
                    </button>
                </div>
            `;

            document.querySelector('#serviceModal > div > div').innerHTML = modalImageHTML + `
                <div class="p-8">
                    <div class="flex items-center gap-2 mb-4">
                        <span class="material-symbols-outlined text-3xl text-primary">${service.icon}</span>
                        <h2 class="text-3xl font-bold text-slate-900">${service.title}</h2>
                    </div>
                    <p class="text-2xl font-bold text-primary mb-6 text-center">${service.price}</p>
                    <p class="text-slate-600 mb-6 leading-relaxed">${service.description}</p>
                    
                    <div class="mb-6">
                        <h3 class="font-bold text-slate-900 mb-3 flex items-center gap-2">
                            <span class="material-icons-round text-primary">check_circle</span>
                            Caracter√≠sticas
                        </h3>
                        <ul class="space-y-2">
                            ${service.features.map(feature => `
                                <li class="flex items-start gap-2">
                                    <span class="material-icons-round text-green-500 text-sm mt-0.5">check</span>
                                    <span class="text-slate-600 text-sm">${feature}</span>
                                </li>
                            `).join('')}
                        </ul>
                    </div>

                    <div class="bg-blue-50 rounded-2xl p-6 mb-6">
                        <h3 class="font-bold text-slate-900 mb-2 flex items-center gap-2">
                            <span class="material-icons-round text-primary">star</span>
                            Beneficio Principal
                        </h3>
                        <p class="text-slate-700">${service.benefits}</p>
                    </div>

                    <div class="flex gap-4">
                        <button 
                            onclick="document.getElementById('contactModal').classList.remove('hidden'); closeServiceModal();"
                            class="flex-1 bg-primary text-white py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors"
                        >
                            Solicitar Cotizaci√≥n
                        </button>
                        <button 
                            onclick="closeServiceModal()"
                            class="px-6 py-3 rounded-xl border border-slate-200 font-bold hover:bg-slate-50 transition-colors"
                        >
                            Cerrar
                        </button>
                    </div>
                </div>
            `;

            // Inicializar √≠ndice del modal
            if (!window.modalImageIndices) window.modalImageIndices = {};
            window.modalImageIndices[service.id] = 0;

            document.getElementById('serviceModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        };

        // Funciones para navegar im√°genes en el modal
        window.changeModalImage = (serviceId, direction) => {
            const service = services.find(s => s.id === serviceId);
            const imageArray = service.images || [service.image];
            
            if (imageArray.length <= 1) return;
            
            const currentIndex = window.modalImageIndices[serviceId];
            let newIndex = currentIndex + direction;
            
            if (newIndex < 0) newIndex = imageArray.length - 1;
            if (newIndex >= imageArray.length) newIndex = 0;
            
            window.modalImageIndices[serviceId] = newIndex;
            updateModalImageDisplay(serviceId, newIndex);
        };

        window.setModalImage = (serviceId, index) => {
            window.modalImageIndices[serviceId] = index;
            updateModalImageDisplay(serviceId, index);
        };

        function updateModalImageDisplay(serviceId, activeIndex) {
            const gallery = document.querySelector(`[data-modal-service-id="${serviceId}"]`);
            if (!gallery) return;
            
            const images = gallery.querySelectorAll('.modal-gallery-image');
            const dots = document.querySelectorAll('.modal-image-dot');
            const counter = document.getElementById('modalImageCounter');
            
            images.forEach((img, index) => {
                if (index === activeIndex) {
                    img.classList.remove('opacity-0');
                    img.classList.add('opacity-100');
                } else {
                    img.classList.remove('opacity-100');
                    img.classList.add('opacity-0');
                }
            });
            
            dots.forEach((dot, index) => {
                if (index === activeIndex) {
                    dot.classList.add('bg-white', 'w-8');
                    dot.classList.remove('bg-white/60', 'w-2.5');
                } else {
                    dot.classList.remove('bg-white', 'w-8');
                    dot.classList.add('bg-white/60', 'w-2.5');
                }
            });
            
            if (counter) {
                counter.textContent = activeIndex + 1;
            }
        }

        window.closeServiceModal = () => {
            document.getElementById('serviceModal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        };

        // Video Modal
        window.openVideoModal = (videoUrl, title) => {
            document.getElementById('videoFrame').src = videoUrl + '?autoplay=1';
            document.getElementById('videoTitle').textContent = title;
            document.getElementById('videoModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        };

        window.closeVideoModal = () => {
            document.getElementById('videoFrame').src = '';
            document.getElementById('videoModal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        };

        // Kit Modal
        window.openKitModal = (kitId) => {
            const kit = kits.find(k => k.id === kitId);
            if (!kit) return;

            const modalContent = `
                <div class="relative">
                    <img src="${kit.image}" alt="${kit.title}" class="w-full h-64 object-cover"/>
                    <button 
                        onclick="closeKitModal()"
                        class="absolute top-4 right-4 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center hover:bg-white transition-colors shadow-lg"
                    >
                        <span class="material-icons-round text-slate-900">close</span>
                    </button>
                    ${kit.featured ? `
                        <div class="absolute top-4 left-4 px-4 py-2 rounded-full bg-gradient-to-r from-primary to-blue-600 text-white font-bold shadow-lg">
                            ‚≠ê KIT M√ÅS COMPLETO
                        </div>
                    ` : `
                        <div class="absolute top-4 left-4 px-4 py-2 rounded-full bg-white/95 backdrop-blur-sm font-bold shadow-lg">
                            ${kit.badge}
                        </div>
                    `}
                    <div class="absolute bottom-4 right-4 px-4 py-2 rounded-full bg-red-500 text-white font-bold shadow-lg text-lg">
                        -${kit.discount} DESCUENTO
                    </div>
                </div>
                <div class="p-8">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">${kit.title}</h2>
                    
                    <div class="grid md:grid-cols-2 gap-8 mb-6">
                        <div>
                            <h3 class="font-bold text-slate-900 mb-3 flex items-center gap-2">
                                <span class="material-icons-round text-primary">inventory_2</span>
                                ¬øQu√© incluye este kit?
                            </h3>
                            <ul class="space-y-2">
                                ${kit.includes.map(item => `
                                    <li class="flex items-start gap-2">
                                        <span class="material-icons-round text-green-500 text-sm mt-0.5">check_circle</span>
                                        <span class="text-slate-600 text-sm">${item}</span>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                        
                        <div>
                            <h3 class="font-bold text-slate-900 mb-3 flex items-center gap-2">
                                <span class="material-icons-round text-primary">star</span>
                                Beneficios adicionales
                            </h3>
                            <ul class="space-y-2 text-sm">
                                <li class="flex items-start gap-2">
                                    <span class="text-green-500">‚úì</span>
                                    <span class="text-slate-600">Visita t√©cnica e instalaci√≥n GRATIS</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-green-500">‚úì</span>
                                    <span class="text-slate-600">Configuraci√≥n completa incluida</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-green-500">‚úì</span>
                                    <span class="text-slate-600">Garant√≠a de 12 meses</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-green-500">‚úì</span>
                                    <span class="text-slate-600">Soporte t√©cnico por 3 meses</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-green-500">‚úì</span>
                                    <span class="text-slate-600">15% desc. en productos adicionales</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl p-6 mb-6">
                        <div class="flex items-center justify-between flex-wrap gap-4">
                            <div>
                                <p class="text-sm text-slate-600 mb-1">Precio Regular</p>
                                <p class="text-2xl text-slate-400 line-through">${kit.priceRegular}</p>
                            </div>
                            <div class="text-center">
                                <p class="text-sm text-green-600 font-semibold mb-1">Ahorras</p>
                                <p class="text-2xl font-bold text-green-600">${kit.savings}</p>
                            </div>
                            <div class="text-right">
                                <p class="text-sm text-slate-600 mb-1">Precio Oferta</p>
                                <p class="text-4xl font-bold text-primary">${kit.priceOffer}</p>
                            </div>
                        </div>
                    </div>

                    <p class="text-slate-600 mb-6 leading-relaxed">
                        ${kit.description} Este kit incluye todo lo necesario para comenzar, 
                        con instalaci√≥n profesional y configuraci√≥n completa.
                    </p>

                    <div class="flex gap-4">
                        <button 
                            onclick="document.getElementById('contactModal').classList.remove('hidden'); closeKitModal();"
                            class="flex-1 bg-gradient-to-r from-primary to-blue-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-xl transition-all"
                        >
                            üéâ Solicitar Este Kit
                        </button>
                        <button 
                            onclick="closeKitModal()"
                            class="px-6 py-4 rounded-xl border-2 border-slate-200 font-bold hover:bg-slate-50 transition-colors"
                        >
                            Cerrar
                        </button>
                    </div>

                    <p class="text-xs text-center text-slate-500 mt-4">
                        üí¨ Tambi√©n puedes consultar por WhatsApp o llamarnos directamente
                    </p>
                </div>
            `;

            const modal = document.getElementById('kitModal');
            modal.querySelector('.modal-content').innerHTML = modalContent;
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        };

        window.closeKitModal = () => {
            document.getElementById('kitModal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        };

        // Close modals on outside click
        document.getElementById('serviceModal').addEventListener('click', (e) => {
            if (e.target.id === 'serviceModal') closeServiceModal();
        });

        document.getElementById('videoModal').addEventListener('click', (e) => {
            if (e.target.id === 'videoModal') closeVideoModal();
        });

        document.getElementById('contactModal').addEventListener('click', (e) => {
            if (e.target.id === 'contactModal') {
                document.getElementById('contactModal').classList.add('hidden');
            }
        });

        document.getElementById('kitModal').addEventListener('click', (e) => {
            if (e.target.id === 'kitModal') {
                closeKitModal();
            }
        });

        // Scroll to top button
        const scrollTopBtn = document.getElementById('scrollTopBtn');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                scrollTopBtn.classList.remove('opacity-0', 'pointer-events-none');
                scrollTopBtn.classList.add('opacity-100');
            } else {
                scrollTopBtn.classList.add('opacity-0', 'pointer-events-none');
                scrollTopBtn.classList.remove('opacity-100');
            }
        });

        // Close modals with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {                closeServiceModal();
                closeVideoModal();
                closeKitModal();
                document.getElementById('contactModal').classList.add('hidden');
            }
        });
    </script>
</body>
</html>
